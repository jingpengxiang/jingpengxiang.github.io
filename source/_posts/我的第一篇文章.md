---
title: Node.js究竟是什么？
date: 2017-09-03 22:58:22
tags:
---
# 简介

如果听过Node，或者阅读过一些文章，会有个疑惑：“Node究竟是什么东东？”即便是阅读过Node的主页，还是不太明白Node是什么。下面且听我慢慢道来。
# Node旨意解决什么问题？
Node公开宣称的目标是提供一种简单的构建可伸缩网络程序的方法。当前的服务器程序有哪些问题？在Java和PHP这类语言，每个连接都会生成一个新的线程，随着访问流量的增长，如果希望支持更多的用户，那么必须增添更多的服务器，这不仅会增加服务器成本，还会造成技术问题，比如用户可能针对每个请求使用不同的服务器，所以会涉及到服务器共享资源。由此可见，目前整个Web应用程序架构的问题是：服务器能够处理的并发连接最大数量。


Node 解决这个问题的方法是：更改连接到服务器的方式。每个连接发射一个在 Node 引擎的进程中运行的事件，而不是为每个连接生成一个新的 OS 线程（并为其分配一些配套内存）。Node 声称它绝不会死锁，因为它根本不允许使用锁，它不会直接阻塞 I/O 调用。Node 还宣称，运行它的服务器能支持数万个并发连接.
# Node 肯定不是什么？
没错，Node 是一个服务器程序。但是，基础 Node 产品肯定不 像 Apache 或 Tomcat。本质上，那些服务器 “安装就绪型” 服 务器产品，支持立即部署应用程序。通过这些产品，您可以在一分钟内启动并运行一个服务器。Node 肯定不是这种产品。Apache 能通过添加一个 PHP 模块来允许开发人员创建动态 Web 页，添加一个 SSL 模块来实现安全连接，与此类似，Node 也有模块概念，允许向 Node 内核添加模块。实际上，可供选择的用于 Node 的模块有数百个之多，社区在创建、发布和更新模块方面非常活跃，一天甚至可以处理数十个模块。
# Node 如何工作？
Node 本身运行 V8 JavaScript。等等，服务器上的 JavaScript？没错，您没有看错。对于只在客户机上使用 JavaScript 的程序员而言，服务器端 JavaScript 可能是一个新概念，但这个概念本身并非遥不可及，因此为何不能在服务器上使用客户机上使用的编程语言？
什么是 V8？V8 JavaScript 引擎是 Google 用于其 Chrome 浏览器的底层 JavaScript 引擎。很少有人考虑 JavaScript 在客户机上实际做了些什么？实际上，JavaScript 引擎负责解释并执行代码。Google 使用 V8 创建了一个用 C++ 编写的超快解释器，该解释器拥有另一个独特特征；您可以下载该引擎并将其嵌入任何 应用程序。V8 JavaScript 引擎并不仅限于在一个浏览器中运行。因此，Node 实际上会使用 Google 编写的 V8 JavaScript 引擎，并将其重建为可在服务器上使用。太完美了！
# 示例 Node 应用程序
``` var http= require("http");

http.createServer(function (request,response) {
	// body...
	response.writeHead(200,{'Content-Type':'text/plain'});

	response.end('hello world\n');

}).listen(8888);

console.log('Server running at http://127.0.0.1:8888/'); ```
